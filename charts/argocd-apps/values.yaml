argocd-apps:
  applications:
    sealed-secrets:
      namespace: argocd
      project: default
      syncPolicy:
        automated:
          prune: true
          selfHeal: true
      source:
        repoURL: https://github.com/eduardoschulz/homelab.git 
        targetRevision: master
        path: charts/sealed-secrets 
      destination:
        server: https://kubernetes.default.svc
        namespace: kube-system

    # Example for a second app using the same repo:
    cert-manager:
      project: default
      namespace: argocd
      syncPolicy:
        syncOptions:
          - PruneLast=true
          - CreateNamespace=true
      source:
        repoURL: https://github.com/eduardoschulz/homelab.git 
        targetRevision: master
        path: charts/cert-manager
      destination:
        server: https://kubernetes.default.svc
        namespace: cert-manager
    pihole:
      project: default
      namespace: argocd
      syncPolicy:
        syncOptions:
          - PruneLast=true
          - CreateNamespace=true
      source:
        repoURL: https://github.com/eduardoschulz/homelab.git 
        targetRevision: master
        path: charts/dns/pihole
      destination:
        server: https://kubernetes.default.svc
        namespace: pihole
